{% extends 'index/base.html' %}
{% load static %}
{% block title %}Search{% endblock %}
{% block styles %}
<link rel="stylesheet" href="{% static "search/styles.css" %}" />
{% endblock %}
{% block script %}
<script src="{% static "search/search.js" %}"></script>
{% endblock %}

{% block main %}

<div class="main">
{% csrf_token %}

{#popup#}
<div class="b-container invisible">
    <div class="b-popup-content">
        <p id="popup_text">Text in Popup</p>
        <button id="popup_ok">OK</button>
    </div>
</div>
<div class="b-popup invisible"></div>
{#popup end#}


<div id="main_search">

    <form id="search_form">
        <input id="head_search_input" type="text" placeholder="film">
        <button id="head_search_btn" type="submit">SEARCH</button>
    </form>
    <div class="styled-select">
        <select name="genre" form="search_form" id="genre_select">
            <option value="" selected disabled>Select genre</option>
            <option value="">All</option>
            <option value="Comedy">Comedy</option>
            <option value="Sci-Fi">Sci-Fi</option>
            <option value="Horror">Horror</option>
            <option value="Romance">Romance</option>
            <option value="Action">Action</option>
            <option value="Thriller">Thriller</option>
            <option value="Drama">Drama</option>
            <option value="Crime">Crime</option>
            <option value="Animation">Animation</option>
            <option value="Adventure">Adventure</option>
            <option value="Fantasy">Fantasy</option>
        </select>

        <select name="sort_by" form="search_form" id="sort_by_select">
            <option value="" selected disabled>Sort by</option>
            <option value="rating_desc">Rating: from high to low</option>
            <option value="rating_asc">Rating: from low to high</option>
            <option value="title_asc">Title: A-Z</option>
            <option value="title_desc">Title: Z-A</option>
            <option value="year_desc">Year: from new to old</option>
            <option value="year_asc">Year: from old to new</option>

{#            <option value="peers">Peers</option>#}
{#            <option value="seeds">Seeds</option>#}
{#            <option value="download_count">Download count</option>#}
{#            <option value="like_count">Like count</option>#}
{#            <option value="date_added">Date added</option>#}
        </select>

    </div>
    <div class="results-wrap">
        <ul class="result">
            {% if data.data.movie_count > 0 %}
                {% for movie in data.data.movies %}
                    <li class="results-item-wrap">
                        <a href="/player/{{ movie.id }}" title="{{ movie.title_english }}">
                            {% if movie.upl_cover %}
                                <div class="div_poster">
                                    <img src="/media/{{ movie.upl_cover }}" class="poster">
                                </div>
                            {% else %}
                                <div class="div_poster no_poster"></div>
                            {% endif %}
                            <div class="results-item-title">{{ movie.title_english }}</div>
                            <span class="results-item-rating">
                                <i class="far fa-star"></i>
                                {{ movie.rating }}
                            </span>
                            <span class="results-item-year">
                                {{ movie.year }}
                            </span>
                        </a>
                {% endfor %}
            {% else %}
                 <li class="results-item-wrap">Ð¢here must be films</li>
            {% endif %}
        </ul>
    </div>
</div>
</div>



{% endblock %}

